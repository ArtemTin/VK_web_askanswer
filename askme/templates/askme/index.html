{% extends "askme/base.html" %}

{% block main_content %}
    <div class="container d-flex d-inline-flex m-3">
        <a href="{% url "hot_view" %}"
           class="btn flex-fill mt-3 mb-3 me-3 {% if tab == "hot" %} btn-primary {% else %} btn-outline-secondary {% endif %} ">Hot
            questions</a>
        <a href="{% url "main_view" %}"
           class="btn flex-fill mt-3 mb-3 me-3 {% if tab == "new" %} btn-primary {% else %} btn-outline-secondary {% endif %}">New
            questions</a>
    </div>
    <div class="d-flex flex-column">
        {% for question in questions %}
            <div class="d-flex flex-row">
                <div class="p-3 d-flex flex-column bg-secondary">
                    <!-- Аватарка и счетчик -->
                    <a href="{% url "settings_view" question.asker.id %}">
                        <img class="img m-2" src="{{ question.asker.avatar_url }}" width="44" height="44"
                             role="img">
                    </a>
                    <div class="d-flex flex-row align-items-center">
                        <p class="bg-primary">{{ question.rating }}</p>
                        <div class="btn-group-vertical">
                            <button type="button"
                                    class="btn {% if question.my_rating > 0 %} btn-success {% else %} btn-outline-success {% endif %}">
                                +
                            </button>
                            <button type="button"
                                    class="btn {% if question.my_rating < 0 %} btn-danger {% else %} btn-outline-danger {% endif %}">
                                -
                            </button>
                        </div>
                    </div>
                </div>
                <div class="p-3 d-flex flex-column">
                    <!-- Заголовок, текст вопроса, кол-во ответов и теги -->
                    <a href="{% url "question_view" question.id %}">
                        <h2>{{ question.title }}</h2>
                    </a>
                    <p>{{ question.teaser|truncatechars:'200' }}</p>
                    <div class="d-flex flex-row">
                        <a href="{% url "question_view" question.id %}">
                            <p>Answers ({{ question.answers_cnt }})</p>
                        </a>
                        <p>Tags:</p>
                        <div class="d-flex">
                            {% for tag in question.tags %}
                                <a class="row m-2" href="{% url "tag_view" tag.internal_name %}">
                                    <p>{{ tag.human_name }}</p>
                                </a>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}